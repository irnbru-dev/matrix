$('a[href^="#"]').on("click",function(e){var t=$(this).attr("href");$(t).length&&$("html, body").animate({scrollTop:$(t).offset().top-60},1e3),e.preventDefault()});var typed=new Typed("#typed",{strings:["это то, что заставит вас остановиться и наблюдать."],typeSpeed:50,showCursor:!1,cursorChar:".",autoInsertCss:!1});$(function(){$(window).on("scroll load",function(){$(window).scrollTop()>$(".header").outerHeight()?($(".contacts").addClass("fixed"),$("#second-screen").addClass("mt90")):($(".contacts").removeClass("fixed"),$("#second-screen").removeClass("mt90"))})}),$(function(){skrollr.init({edgeStrategy:"set",easing:{WTF:Math.random,inverted:function(e){return 1-e}}})}),$('a[href^="#"]').on("click",function(e){var t=$(this).attr("href");$(t).length&&$("html, body").animate({scrollTop:$(t).offset().top-60},1e3),e.preventDefault()});typed=new Typed("#typed",{strings:["это то, что заставит вас остановиться и наблюдать."],typeSpeed:50,showCursor:!1,cursorChar:".",autoInsertCss:!1});$(function(){$(window).on("scroll load",function(){$(window).scrollTop()>$(".header").outerHeight()?($(".contacts").addClass("fixed"),$("#second-screen").addClass("mt90")):($(".contacts").removeClass("fixed"),$("#second-screen").removeClass("mt90"))})}),$('a[href^="#"]').on("click",function(e){var t=$(this).attr("href");$(t).length&&$("html, body").animate({scrollTop:$(t).offset().top-60},1e3),e.preventDefault()}),typed=new Typed("#typed",{strings:["это то, что заставит вас остановиться и наблюдать."],typeSpeed:50,showCursor:!1,cursorChar:".",autoInsertCss:!1}),$(function(){$(window).on("scroll load",function(){$(window).scrollTop()>$(".header").outerHeight()?($(".contacts").addClass("fixed"),$("#second-screen").addClass("mt90")):($(".contacts").removeClass("fixed"),$("#second-screen").removeClass("mt90"))})}),function(c,k,x){"use strict";function t(e){if(w=k.documentElement,n=k.body,B(),te=this,se=(e=e||{}).constants||{},e.easing)for(var t in e.easing)K[t]=e.easing[t];me=e.edgeStrategy||"set",oe={beforerender:e.beforerender,render:e.render,keyframe:e.keyframe},(ae=!1!==e.forceHeight)&&(De=e.scale||1),ie=e.mobileDeceleration||u,ce=!1!==e.smoothScrolling,fe=e.smoothScrollingDuration||p,ue={targetTop:te.getScrollTop()},(Me=(e.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||c.opera)})())?((ne=k.getElementById("skrollr-body"))&&ee(),Y(),xe(w,[a,l],[s])):xe(w,[a,i],[s]),te.refresh(),ve(c,"resize orientationchange",function(){var e=w.clientWidth,t=w.clientHeight;(t!==Oe||e!==Ne)&&(Oe=t,Ne=e,Ve=!0)});var r=G();return function e(){R(),ge=r(e)}(),te}var w,n,E={get:function(){return te},init:function(e){return te||new t(e)},VERSION:"0.6.26"},$=Object.prototype.hasOwnProperty,S=c.Math,o=c.getComputedStyle,C="touchstart",A="touchmove",F="touchcancel",D="touchend",H="skrollable",I=H+"-before",P=H+"-between",N=H+"-after",a="skrollr",s="no-"+a,i=a+"-desktop",l=a+"-mobile",f="linear",u=.004,p=200,m="center",d="bottom",O="___skrollable_id",V=/^(?:input|textarea|button|select)$/i,r=/^\s+|\s+$/g,z=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,g=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,v=/^(@?[a-z\-]+)\[(\w+)\]$/,M=/-([a-z0-9_])/g,q=function(e,t){return t.toUpperCase()},h=/[\-+]?[\d]*\.?[\d]+/g,y=/\{\?\}/g,T=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,b=/[a-z\-]+-gradient/g,L="",_="",B=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(o){var t=o(n,null);for(var r in t)if(L=r.match(e)||+r==r&&t[r].match(e))break;if(!L)return L=_="",x;"-"===(L=L[0]).slice(0,1)?L={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[_=L]:_="-"+L.toLowerCase()+"-"}},G=function(){var e=c.requestAnimationFrame||c[L.toLowerCase()+"RequestAnimationFrame"],n=Ce();return(Me||!e)&&(e=function(e){var t=Ce()-n,r=S.max(0,1e3/60-t);return c.setTimeout(function(){n=Ce(),e()},r)}),e},K={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-S.cos(e*S.PI)/2+.5},sqrt:function(e){return S.sqrt(e)},outCubic:function(e){return S.pow(e-1,3)+1},bounce:function(e){var t;if(e<=.5083)t=3;else if(e<=.8489)t=9;else if(e<=.96208)t=27;else{if(!(e<=.99981))return 1;t=91}return 1-S.abs(3*S.cos(1.028*e*t)/t)}};t.prototype.refresh=function(e){var t,r,n=!1;for(e===x?(n=!0,re=[],ze=0,e=k.getElementsByTagName("*")):e.length===x&&(e=[e]),t=0,r=e.length;t<r;t++){var o=e[t],a=o,s=[],i=ce,l=me,c=!1;if(n&&O in o&&delete o[O],o.attributes){for(var f=0,u=o.attributes.length;f<u;f++){var p=o.attributes[f];if("data-anchor-target"!==p.name)if("data-smooth-scrolling"!==p.name)if("data-edge-strategy"!==p.name)if("data-emit-events"!==p.name){var m=p.name.match(z);if(null!==m){var d={props:p.value,element:o,eventType:p.name.replace(M,q)};s.push(d);var g=m[1];g&&(d.constant=g.substr(1));var v=m[2];/p$/.test(v)?(d.isPercentage=!0,d.offset=(0|v.slice(0,-1))/100):d.offset=0|v;var h=m[3],y=m[4]||h;h&&"start"!==h&&"end"!==h?(d.mode="relative",d.anchors=[h,y]):(d.mode="absolute","end"===h?d.isEnd=!0:d.isPercentage||(d.offset=d.offset*De))}}else c=!0;else l=p.value;else i="off"!==p.value;else if(null===(a=k.querySelector(p.value)))throw'Unable to find anchor target "'+p.value+'"'}var T,b,w;s.length&&(b=!n&&O in o?(w=o[O],T=re[w].styleAttr,re[w].classAttr):(w=o[O]=ze++,T=o.style.cssText,ke(o)),re[w]={element:o,styleAttr:T,classAttr:b,anchorTarget:a,keyFrames:s,smoothScrolling:i,edgeStrategy:l,emitEvents:c,lastFrameIndex:-1},xe(o,[H],[]))}}for(be(),t=0,r=e.length;t<r;t++){var S=re[e[t][O]];S!==x&&(U(S),j(S))}return te},t.prototype.relativeToAbsolute=function(e,t,r){var n=w.clientHeight,o=e.getBoundingClientRect(),a=o.top,s=o.bottom-o.top;return t===d?a-=n:t===m&&(a-=n/2),r===d?a+=s:r===m&&(a+=s/2),0|(a+=te.getScrollTop())+.5},t.prototype.animateTo=function(e,t){t=t||{};var r=Ce(),n=te.getScrollTop();return(le={startTop:n,topDiff:e-n,targetTop:e,duration:t.duration||1e3,startTime:r,endTime:r+(t.duration||1e3),easing:K[t.easing||f],done:t.done}).topDiff||(le.done&&le.done.call(te,!1),le=x),te},t.prototype.stopAnimateTo=function(){le&&le.done&&le.done.call(te,!0),le=x},t.prototype.isAnimatingTo=function(){return!!le},t.prototype.isMobile=function(){return Me},t.prototype.setScrollTop=function(e,t){return pe=!0===t,Me?qe=S.min(S.max(e,0),Fe):c.scrollTo(0,e),te},t.prototype.getScrollTop=function(){return Me?qe:c.pageYOffset||w.scrollTop||n.scrollTop||0},t.prototype.getMaxScrollTop=function(){return Fe},t.prototype.on=function(e,t){return oe[e]=t,te},t.prototype.off=function(e){return delete oe[e],te},t.prototype.destroy=function(){var e;e=c.cancelAnimationFrame||c[L.toLowerCase()+"CancelAnimationFrame"],(Me||!e)&&(e=function(e){return c.clearTimeout(e)}),e(ge),ye(),xe(w,[s],[a,i,l]);for(var t=0,r=re.length;t<r;t++)Q(re[t].element);w.style.overflow=n.style.overflow="",w.style.height=n.style.height="",ne&&E.setStyle(ne,"transform","none"),He="down",Me=Ve=!(Ie=-(De=1)),qe=ze=Oe=Ne=Fe=0,de=me=pe=ue=fe=ce=le=ie=se=ae=oe=ne=te=x};var Y=function(){var f,u,p,m,d,g,v,h,y,T,b;ve(w,[C,A,F,D].join(" "),function(e){var t=e.changedTouches[0];for(m=e.target;3===m.nodeType;)m=m.parentNode;switch(d=t.clientY,g=t.clientX,y=e.timeStamp,V.test(m.tagName)||e.preventDefault(),e.type){case C:f&&f.blur(),te.stopAnimateTo(),f=m,u=v=d,p=g;break;case A:V.test(m.tagName)&&k.activeElement!==m&&e.preventDefault(),h=d-v,b=y-T,te.setScrollTop(qe-h,!0),v=d,T=y;break;default:case F:case D:var r=u-d,n=p-g;if(n*n+r*r<49){if(!V.test(f.tagName)){f.focus();var o=k.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,e.view,1,t.screenX,t.screenY,t.clientX,t.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),f.dispatchEvent(o)}return}f=x;var a=h/b;a=S.max(S.min(a,3),-3);var s=S.abs(a/ie),i=a*s+.5*ie*s*s,l=te.getScrollTop()-i,c=0;Fe<l?(c=(Fe-l)/i,l=Fe):l<0&&(c=-l/i,l=0),s*=1-c,te.animateTo(0|l+.5,{easing:"outCubic",duration:s})}}),c.scrollTo(0,0),w.style.overflow=n.style.overflow="hidden"},R=function(){Ve&&(Ve=!1,be());var e,t,r=te.getScrollTop(),n=Ce();if(le?(n>=le.endTime?(r=le.targetTop,e=le.done,le=x):(t=le.easing((n-le.startTime)/le.duration),r=0|le.startTop+t*le.topDiff),te.setScrollTop(r,!0)):pe||(ue.targetTop-r&&(ue={startTop:Ie,topDiff:r-Ie,targetTop:r,startTime:Pe,endTime:Pe+fe}),ue.endTime>=n&&(t=K.sqrt((n-ue.startTime)/fe),r=0|ue.startTop+t*ue.topDiff)),Me&&ne&&E.setStyle(ne,"transform","translate(0, "+-qe+"px) "+de),pe||Ie!==r){var o={curTop:r,lastTop:Ie,maxTop:Fe,direction:He=Ie<r?"down":r<Ie?"up":He};(pe=!1)!==(oe.beforerender&&oe.beforerender.call(te,o))&&(function(e,t){for(var r=0,n=re.length;r<n;r++){var o,a,s=re[r],i=s.element,l=s.smoothScrolling?e:t,c=s.keyFrames,f=c.length,u=c[0],p=c[c.length-1],m=u.frame>l,d=l>p.frame,g=m?u:p,v=s.emitEvents,h=s.lastFrameIndex;if(m||d){if(m&&-1===s.edge||d&&1===s.edge)continue;switch(m?(xe(i,[I],[N,P]),v&&-1<h&&(Te(i,u.eventType,He),s.lastFrameIndex=-1)):(xe(i,[N],[I,P]),v&&h<f&&(Te(i,p.eventType,He),s.lastFrameIndex=f)),s.edge=m?-1:1,s.edgeStrategy){case"reset":Q(i);continue;case"ease":l=g.frame;break;default:case"set":var y=g.props;for(o in y)$.call(y,o)&&(a=J(y[o].value),0===o.indexOf("@")?i.setAttribute(o.substr(1),a):E.setStyle(i,o,a));continue}}else 0!==s.edge&&(xe(i,[H,P],[I,N]),s.edge=0);for(var T=0;T<f-1;T++)if(l>=c[T].frame&&c[T+1].frame>=l){var b=c[T],w=c[T+1];for(o in b.props)if($.call(b.props,o)){var S=(l-b.frame)/(w.frame-b.frame);S=b.props[o].easing(S),a=Z(b.props[o].value,w.props[o].value,S),a=J(a),0===o.indexOf("@")?i.setAttribute(o.substr(1),a):E.setStyle(i,o,a)}v&&h!==T&&(Te(i,"down"===He?b.eventType:w.eventType,He),s.lastFrameIndex=T);break}}}(r,te.getScrollTop()),Ie=r,oe.render&&oe.render.call(te,o)),e&&e.call(te,!1)}Pe=n},U=function(e){for(var t=0,r=e.keyFrames.length;t<r;t++){for(var n,o,a,s,i=e.keyFrames[t],l={};null!==(s=g.exec(i.props));)a=s[1],o=s[2],n=null!==(n=a.match(v))?(a=n[1],n[2]):f,o=o.indexOf("!")?X(o):[o.slice(1)],l[a]={value:o,easing:K[n]};i.props=l}},X=function(e){var t=[];return T.lastIndex=0,e=e.replace(T,function(e){return e.replace(h,function(e){return e/255*100+"%"})}),_&&(b.lastIndex=0,e=e.replace(b,function(e){return _+e})),e=e.replace(h,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},j=function(e){var t,r,n={};for(t=0,r=e.keyFrames.length;t<r;t++)W(e.keyFrames[t],n);for(n={},t=e.keyFrames.length-1;0<=t;t--)W(e.keyFrames[t],n)},W=function(e,t){var r;for(r in t)$.call(e.props,r)||(e.props[r]=t[r]);for(r in e.props)t[r]=e.props[r]},Z=function(e,t,r){var n,o=e.length;if(o!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var a=[e[0]];for(n=1;n<o;n++)a[n]=e[n]+(t[n]-e[n])*r;return a},J=function(e){var t=1;return y.lastIndex=0,e[0].replace(y,function(){return e[t++]})},Q=function(e,t){for(var r,n,o=0,a=(e=[].concat(e)).length;o<a;o++)n=e[o],(r=re[n[O]])&&(t?(n.style.cssText=r.dirtyStyleAttr,xe(n,r.dirtyClassAttr)):(r.dirtyStyleAttr=n.style.cssText,r.dirtyClassAttr=ke(n),n.style.cssText=r.styleAttr,xe(n,r.classAttr)))},ee=function(){de="translateZ(0)",E.setStyle(ne,"transform",de);var e=o(ne),t=e.getPropertyValue("transform"),r=e.getPropertyValue(_+"transform");t&&"none"!==t||r&&"none"!==r||(de="")};E.setStyle=function(e,t,r){var n=e.style;if("zIndex"===(t=t.replace(M,q).replace("-","")))n[t]=isNaN(r)?r:""+(0|r);else if("float"===t)n.styleFloat=n.cssFloat=r;else try{L&&(n[L+t.slice(0,1).toUpperCase()+t.slice(1)]=r),n[t]=r}catch(e){}};var te,re,ne,oe,ae,se,ie,le,ce,fe,ue,pe,me,de,ge,ve=E.addEvent=function(e,t,r){for(var n,o=function(e){return(e=e||c.event).target||(e.target=e.srcElement),e.preventDefault||(e.preventDefault=function(){e.returnValue=!1,e.defaultPrevented=!0}),r.call(this,e)},a=0,s=(t=t.split(" ")).length;a<s;a++)n=t[a],e.addEventListener?e.addEventListener(n,r,!1):e.attachEvent("on"+n,o),Le.push({element:e,name:n,listener:r})},he=E.removeEvent=function(e,t,r){for(var n=0,o=(t=t.split(" ")).length;n<o;n++)e.removeEventListener?e.removeEventListener(t[n],r,!1):e.detachEvent("on"+t[n],r)},ye=function(){for(var e,t=0,r=Le.length;t<r;t++)e=Le[t],he(e.element,e.name,e.listener);Le=[]},Te=function(e,t,r){oe.keyframe&&oe.keyframe.call(te,e,t,r)},be=function(){var e=te.getScrollTop();Fe=0,ae&&!Me&&(n.style.height=""),function(){var e,t,r,n,o,a,s,i,l,c,f,u=w.clientHeight,p=we();for(i=0,l=re.length;i<l;i++)for(t=(e=re[i]).element,r=e.anchorTarget,o=0,a=(n=e.keyFrames).length;o<a;o++)c=(s=n[o]).offset,f=p[s.constant]||0,s.frame=c,s.isPercentage&&(c*=u,s.frame=c),"relative"===s.mode&&(Q(t),s.frame=te.relativeToAbsolute(r,s.anchors[0],s.anchors[1])-c,Q(t,!0)),s.frame+=f,ae&&!s.isEnd&&s.frame>Fe&&(Fe=s.frame);for(Fe=S.max(Fe,Se()),i=0,l=re.length;i<l;i++){for(o=0,a=(n=(e=re[i]).keyFrames).length;o<a;o++)f=p[(s=n[o]).constant]||0,s.isEnd&&(s.frame=Fe-s.offset+f);e.keyFrames.sort(Ae)}}(),ae&&!Me&&(n.style.height=Fe+w.clientHeight+"px"),Me?te.setScrollTop(S.min(te.getScrollTop(),Fe)):te.setScrollTop(e,!0),pe=!0},we=function(){var e,t,r=w.clientHeight,n={};for(e in se)"function"==typeof(t=se[e])?t=t.call(te):/p$/.test(t)&&(t=t.slice(0,-1)/100*r),n[e]=t;return n},Se=function(){var e=ne&&ne.offsetHeight||0;return S.max(e,n.scrollHeight,n.offsetHeight,w.scrollHeight,w.offsetHeight,w.clientHeight)-w.clientHeight},ke=function(e){var t="className";return c.SVGElement&&e instanceof c.SVGElement&&(e=e[t],t="baseVal"),e[t]},xe=function(e,t,r){var n="className";if(c.SVGElement&&e instanceof c.SVGElement&&(e=e[n],n="baseVal"),r===x)return e[n]=t,x;for(var o=e[n],a=0,s=r.length;a<s;a++)o=$e(o).replace($e(r[a])," ");o=Ee(o);for(var i=0,l=t.length;i<l;i++)-1===$e(o).indexOf($e(t[i]))&&(o+=" "+t[i]);e[n]=Ee(o)},Ee=function(e){return e.replace(r,"")},$e=function(e){return" "+e+" "},Ce=Date.now||function(){return+new Date},Ae=function(e,t){return e.frame-t.frame},Fe=0,De=1,He="down",Ie=-1,Pe=Ce(),Ne=0,Oe=0,Ve=!1,ze=0,Me=!1,qe=0,Le=[];"function"==typeof define&&define.amd?define("skrollr",function(){return E}):"undefined"!=typeof module&&module.exports?module.exports=E:c.skrollr=E}(window,document),function(c,k,x){"use strict";function t(e){if(w=k.documentElement,n=k.body,b(),J=this,ne=(e=e||{}).constants||{},e.easing)for(var t in e.easing)_[t]=e.easing[t];fe=e.edgeStrategy||"set",te={beforerender:e.beforerender,render:e.render,keyframe:e.keyframe},(re=!1!==e.forceHeight)&&(Ce=e.scale||1),oe=e.mobileDeceleration||f,se=!1!==e.smoothScrolling,ie=e.smoothScrollingDuration||u,le={targetTop:J.getScrollTop()},(Oe=(e.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||c.opera)})())?((ee=k.getElementById("skrollr-body"))&&Z(),B(),we(w,[a,l],[s])):we(w,[a,i],[s]),J.refresh(),me(c,"resize orientationchange",function(){var e=w.clientWidth,t=w.clientHeight;(t!==Ie||e!==He)&&(Ie=t,He=e,Pe=!0)});var r=L();return function e(){G(),pe=r(e)}(),J}var w,n,E={get:function(){return J},init:function(e){return J||new t(e)},VERSION:"0.6.26"},$=Object.prototype.hasOwnProperty,S=c.Math,o=c.getComputedStyle,C="touchstart",A="touchmove",F="touchcancel",D="touchend",H="skrollable",I=H+"-before",P=H+"-between",N=H+"-after",a="skrollr",s="no-"+a,i=a+"-desktop",l=a+"-mobile",f=.004,u=200,O="___skrollable_id",V=/^(?:input|textarea|button|select)$/i,r=/^\s+|\s+$/g,z=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,p=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,m=/^(@?[a-z\-]+)\[(\w+)\]$/,M=/-([a-z0-9_])/g,q=function(e,t){return t.toUpperCase()},d=/[\-+]?[\d]*\.?[\d]+/g,g=/\{\?\}/g,v=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,h=/[a-z\-]+-gradient/g,y="",T="",b=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(o){var t=o(n,null);for(var r in t)if(y=r.match(e)||+r==r&&t[r].match(e))break;if(!y)return y=T="",x;"-"===(y=y[0]).slice(0,1)?y={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[T=y]:T="-"+y.toLowerCase()+"-"}},L=function(){var e=c.requestAnimationFrame||c[y.toLowerCase()+"RequestAnimationFrame"],n=xe();return(Oe||!e)&&(e=function(e){var t=xe()-n,r=S.max(0,1e3/60-t);return c.setTimeout(function(){n=xe(),e()},r)}),e},_={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-S.cos(e*S.PI)/2+.5},sqrt:function(e){return S.sqrt(e)},outCubic:function(e){return S.pow(e-1,3)+1},bounce:function(e){var t;if(e<=.5083)t=3;else if(e<=.8489)t=9;else if(e<=.96208)t=27;else{if(!(e<=.99981))return 1;t=91}return 1-S.abs(3*S.cos(1.028*e*t)/t)}};t.prototype.refresh=function(e){var t,r,n=!1;for(e===x?(n=!0,Q=[],Ne=0,e=k.getElementsByTagName("*")):e.length===x&&(e=[e]),t=0,r=e.length;t<r;t++){var o=e[t],a=o,s=[],i=se,l=fe,c=!1;if(n&&O in o&&delete o[O],o.attributes){for(var f=0,u=o.attributes.length;f<u;f++){var p=o.attributes[f];if("data-anchor-target"!==p.name)if("data-smooth-scrolling"!==p.name)if("data-edge-strategy"!==p.name)if("data-emit-events"!==p.name){var m=p.name.match(z);if(null!==m){var d={props:p.value,element:o,eventType:p.name.replace(M,q)};s.push(d);var g=m[1];g&&(d.constant=g.substr(1));var v=m[2];/p$/.test(v)?(d.isPercentage=!0,d.offset=(0|v.slice(0,-1))/100):d.offset=0|v;var h=m[3],y=m[4]||h;h&&"start"!==h&&"end"!==h?(d.mode="relative",d.anchors=[h,y]):(d.mode="absolute","end"===h?d.isEnd=!0:d.isPercentage||(d.offset=d.offset*Ce))}}else c=!0;else l=p.value;else i="off"!==p.value;else if(null===(a=k.querySelector(p.value)))throw'Unable to find anchor target "'+p.value+'"'}var T,b,w;if(s.length)b=!n&&O in o?(w=o[O],T=Q[w].styleAttr,Q[w].classAttr):(w=o[O]=Ne++,T=o.style.cssText,be(o)),Q[w]={element:o,styleAttr:T,classAttr:b,anchorTarget:a,keyFrames:s,smoothScrolling:i,edgeStrategy:l,emitEvents:c,lastFrameIndex:-1},we(o,[H],[])}}for(he(),t=0,r=e.length;t<r;t++){var S=Q[e[t][O]];S!==x&&(K(S),R(S))}return J},t.prototype.relativeToAbsolute=function(e,t,r){var n=w.clientHeight,o=e.getBoundingClientRect(),a=o.top,s=o.bottom-o.top;return"bottom"===t?a-=n:"center"===t&&(a-=n/2),"bottom"===r?a+=s:"center"===r&&(a+=s/2),0|(a+=J.getScrollTop())+.5},t.prototype.animateTo=function(e,t){t=t||{};var r=xe(),n=J.getScrollTop();return(ae={startTop:n,topDiff:e-n,targetTop:e,duration:t.duration||1e3,startTime:r,endTime:r+(t.duration||1e3),easing:_[t.easing||"linear"],done:t.done}).topDiff||(ae.done&&ae.done.call(J,!1),ae=x),J},t.prototype.stopAnimateTo=function(){ae&&ae.done&&ae.done.call(J,!0),ae=x},t.prototype.isAnimatingTo=function(){return!!ae},t.prototype.isMobile=function(){return Oe},t.prototype.setScrollTop=function(e,t){return ce=!0===t,Oe?Ve=S.min(S.max(e,0),$e):c.scrollTo(0,e),J},t.prototype.getScrollTop=function(){return Oe?Ve:c.pageYOffset||w.scrollTop||n.scrollTop||0},t.prototype.getMaxScrollTop=function(){return $e},t.prototype.on=function(e,t){return te[e]=t,J},t.prototype.off=function(e){return delete te[e],J},t.prototype.destroy=function(){var e;(e=c.cancelAnimationFrame||c[y.toLowerCase()+"CancelAnimationFrame"],(Oe||!e)&&(e=function(e){return c.clearTimeout(e)}),e)(pe),ge(),we(w,[s],[a,i,l]);for(var t=0,r=Q.length;t<r;t++)W(Q[t].element);w.style.overflow=n.style.overflow="",w.style.height=n.style.height="",ee&&E.setStyle(ee,"transform","none"),Ae="down",Oe=Pe=!(Fe=-(Ce=1)),Ve=Ne=Ie=He=$e=0,ue=fe=ce=le=ie=se=ae=oe=ne=re=te=ee=J=x};var B=function(){var f,u,p,m,d,g,v,h,y,T,b;me(w,[C,A,F,D].join(" "),function(e){var t=e.changedTouches[0];for(m=e.target;3===m.nodeType;)m=m.parentNode;switch(d=t.clientY,g=t.clientX,y=e.timeStamp,V.test(m.tagName)||e.preventDefault(),e.type){case C:f&&f.blur(),J.stopAnimateTo(),f=m,u=v=d,p=g,y;break;case A:V.test(m.tagName)&&k.activeElement!==m&&e.preventDefault(),h=d-v,b=y-T,J.setScrollTop(Ve-h,!0),v=d,T=y;break;default:case F:case D:var r=u-d,n=p-g;if(n*n+r*r<49){if(!V.test(f.tagName)){f.focus();var o=k.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,e.view,1,t.screenX,t.screenY,t.clientX,t.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),f.dispatchEvent(o)}return}f=x;var a=h/b;a=S.max(S.min(a,3),-3);var s=S.abs(a/oe),i=a*s+.5*oe*s*s,l=J.getScrollTop()-i,c=0;$e<l?(c=($e-l)/i,l=$e):l<0&&(c=-l/i,l=0),s*=1-c,J.animateTo(0|l+.5,{easing:"outCubic",duration:s})}}),c.scrollTo(0,0),w.style.overflow=n.style.overflow="hidden"},G=function(){Pe&&(Pe=!1,he());var e,t,r=J.getScrollTop(),n=xe();if(ae)n>=ae.endTime?(r=ae.targetTop,e=ae.done,ae=x):(t=ae.easing((n-ae.startTime)/ae.duration),r=0|ae.startTop+t*ae.topDiff),J.setScrollTop(r,!0);else if(!ce){le.targetTop-r&&(le={startTop:Fe,topDiff:r-Fe,targetTop:r,startTime:De,endTime:De+ie}),le.endTime>=n&&(t=_.sqrt((n-le.startTime)/ie),r=0|le.startTop+t*le.topDiff)}if(Oe&&ee&&E.setStyle(ee,"transform","translate(0, "+-Ve+"px) "+ue),ce||Fe!==r){var o={curTop:r,lastTop:Fe,maxTop:$e,direction:Ae=Fe<r?"down":r<Fe?"up":Ae};(ce=!1)!==(te.beforerender&&te.beforerender.call(J,o))&&(function(e,t){for(var r=0,n=Q.length;r<n;r++){var o,a,s=Q[r],i=s.element,l=s.smoothScrolling?e:t,c=s.keyFrames,f=c.length,u=c[0],p=c[c.length-1],m=u.frame>l,d=l>p.frame,g=m?u:p,v=s.emitEvents,h=s.lastFrameIndex;if(m||d){if(m&&-1===s.edge||d&&1===s.edge)continue;switch(m?(we(i,[I],[N,P]),v&&-1<h&&(ve(i,u.eventType,Ae),s.lastFrameIndex=-1)):(we(i,[N],[I,P]),v&&h<f&&(ve(i,p.eventType,Ae),s.lastFrameIndex=f)),s.edge=m?-1:1,s.edgeStrategy){case"reset":W(i);continue;case"ease":l=g.frame;break;default:case"set":var y=g.props;for(o in y)$.call(y,o)&&(a=j(y[o].value),0===o.indexOf("@")?i.setAttribute(o.substr(1),a):E.setStyle(i,o,a));continue}}else 0!==s.edge&&(we(i,[H,P],[I,N]),s.edge=0);for(var T=0;T<f-1;T++)if(l>=c[T].frame&&c[T+1].frame>=l){var b=c[T],w=c[T+1];for(o in b.props)if($.call(b.props,o)){var S=(l-b.frame)/(w.frame-b.frame);S=b.props[o].easing(S),a=X(b.props[o].value,w.props[o].value,S),a=j(a),0===o.indexOf("@")?i.setAttribute(o.substr(1),a):E.setStyle(i,o,a)}v&&h!==T&&(ve(i,"down"===Ae?b.eventType:w.eventType,Ae),s.lastFrameIndex=T);break}}}(r,J.getScrollTop()),Fe=r,te.render&&te.render.call(J,o)),e&&e.call(J,!1)}De=n},K=function(e){for(var t=0,r=e.keyFrames.length;t<r;t++){for(var n,o,a,s,i=e.keyFrames[t],l={};null!==(s=p.exec(i.props));)a=s[1],o=s[2],n=null!==(n=a.match(m))?(a=n[1],n[2]):"linear",o=o.indexOf("!")?Y(o):[o.slice(1)],l[a]={value:o,easing:_[n]};i.props=l}},Y=function(e){var t=[];return v.lastIndex=0,e=e.replace(v,function(e){return e.replace(d,function(e){return e/255*100+"%"})}),T&&(h.lastIndex=0,e=e.replace(h,function(e){return T+e})),e=e.replace(d,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},R=function(e){var t,r,n={};for(t=0,r=e.keyFrames.length;t<r;t++)U(e.keyFrames[t],n);for(n={},t=e.keyFrames.length-1;0<=t;t--)U(e.keyFrames[t],n)},U=function(e,t){var r;for(r in t)$.call(e.props,r)||(e.props[r]=t[r]);for(r in e.props)t[r]=e.props[r]},X=function(e,t,r){var n,o=e.length;if(o!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var a=[e[0]];for(n=1;n<o;n++)a[n]=e[n]+(t[n]-e[n])*r;return a},j=function(e){var t=1;return g.lastIndex=0,e[0].replace(g,function(){return e[t++]})},W=function(e,t){for(var r,n,o=0,a=(e=[].concat(e)).length;o<a;o++)n=e[o],(r=Q[n[O]])&&(t?(n.style.cssText=r.dirtyStyleAttr,we(n,r.dirtyClassAttr)):(r.dirtyStyleAttr=n.style.cssText,r.dirtyClassAttr=be(n),n.style.cssText=r.styleAttr,we(n,r.classAttr)))},Z=function(){ue="translateZ(0)",E.setStyle(ee,"transform",ue);var e=o(ee),t=e.getPropertyValue("transform"),r=e.getPropertyValue(T+"transform");t&&"none"!==t||r&&"none"!==r||(ue="")};E.setStyle=function(e,t,r){var n=e.style;if("zIndex"===(t=t.replace(M,q).replace("-","")))n[t]=isNaN(r)?r:""+(0|r);else if("float"===t)n.styleFloat=n.cssFloat=r;else try{y&&(n[y+t.slice(0,1).toUpperCase()+t.slice(1)]=r),n[t]=r}catch(e){}};var J,Q,ee,te,re,ne,oe,ae,se,ie,le,ce,fe,ue,pe,me=E.addEvent=function(e,t,r){for(var n,o=function(e){return(e=e||c.event).target||(e.target=e.srcElement),e.preventDefault||(e.preventDefault=function(){e.returnValue=!1,e.defaultPrevented=!0}),r.call(this,e)},a=0,s=(t=t.split(" ")).length;a<s;a++)n=t[a],e.addEventListener?e.addEventListener(n,r,!1):e.attachEvent("on"+n,o),ze.push({element:e,name:n,listener:r})},de=E.removeEvent=function(e,t,r){for(var n=0,o=(t=t.split(" ")).length;n<o;n++)e.removeEventListener?e.removeEventListener(t[n],r,!1):e.detachEvent("on"+t[n],r)},ge=function(){for(var e,t=0,r=ze.length;t<r;t++)e=ze[t],de(e.element,e.name,e.listener);ze=[]},ve=function(e,t,r){te.keyframe&&te.keyframe.call(J,e,t,r)},he=function(){var e=J.getScrollTop();$e=0,re&&!Oe&&(n.style.height=""),function(){var e,t,r,n,o,a,s,i,l,c,f,u=w.clientHeight,p=ye();for(i=0,l=Q.length;i<l;i++)for(t=(e=Q[i]).element,r=e.anchorTarget,o=0,a=(n=e.keyFrames).length;o<a;o++)c=(s=n[o]).offset,f=p[s.constant]||0,s.frame=c,s.isPercentage&&(c*=u,s.frame=c),"relative"===s.mode&&(W(t),s.frame=J.relativeToAbsolute(r,s.anchors[0],s.anchors[1])-c,W(t,!0)),s.frame+=f,re&&!s.isEnd&&s.frame>$e&&($e=s.frame);for($e=S.max($e,Te()),i=0,l=Q.length;i<l;i++){for(o=0,a=(n=(e=Q[i]).keyFrames).length;o<a;o++)f=p[(s=n[o]).constant]||0,s.isEnd&&(s.frame=$e-s.offset+f);e.keyFrames.sort(Ee)}}(),re&&!Oe&&(n.style.height=$e+w.clientHeight+"px"),Oe?J.setScrollTop(S.min(J.getScrollTop(),$e)):J.setScrollTop(e,!0),ce=!0},ye=function(){var e,t,r=w.clientHeight,n={};for(e in ne)"function"==typeof(t=ne[e])?t=t.call(J):/p$/.test(t)&&(t=t.slice(0,-1)/100*r),n[e]=t;return n},Te=function(){var e=ee&&ee.offsetHeight||0;return S.max(e,n.scrollHeight,n.offsetHeight,w.scrollHeight,w.offsetHeight,w.clientHeight)-w.clientHeight},be=function(e){var t="className";return c.SVGElement&&e instanceof c.SVGElement&&(e=e[t],t="baseVal"),e[t]},we=function(e,t,r){var n="className";if(c.SVGElement&&e instanceof c.SVGElement&&(e=e[n],n="baseVal"),r===x)return e[n]=t,x;for(var o=e[n],a=0,s=r.length;a<s;a++)o=ke(o).replace(ke(r[a])," ");o=Se(o);for(var i=0,l=t.length;i<l;i++)-1===ke(o).indexOf(ke(t[i]))&&(o+=" "+t[i]);e[n]=Se(o)},Se=function(e){return e.replace(r,"")},ke=function(e){return" "+e+" "},xe=Date.now||function(){return+new Date},Ee=function(e,t){return e.frame-t.frame},$e=0,Ce=1,Ae="down",Fe=-1,De=xe(),He=0,Ie=0,Pe=!1,Ne=0,Oe=!1,Ve=0,ze=[];"function"==typeof define&&define.amd?define("skrollr",function(){return E}):"undefined"!=typeof module&&module.exports?module.exports=E:c.skrollr=E}(window,document);